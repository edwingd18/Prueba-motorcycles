(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{722:(e,t,a)=>{"use strict";a.d(t,{Di:()=>l,J2:()=>n,mJ:()=>r,yD:()=>c});let s=a(3464).A.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"},timeout:1e4});s.interceptors.response.use(e=>e,e=>(console.error("API Error:",e.message),"ECONNREFUSED"===e.code&&console.error("Backend server is not running on port 8080"),Promise.reject(e)));let l={getAll:()=>s.get("/motorcycles"),getById:e=>s.get("/motorcycles/".concat(e)),create:e=>s.post("/motorcycles",e),update:(e,t)=>s.put("/motorcycles/".concat(e),t),delete:e=>s.delete("/motorcycles/".concat(e)),checkDependencies:async e=>{try{var t;let a=await s.get("/sales"),l=(Array.isArray(a.data)?a.data:(null==(t=a.data)?void 0:t.data)||[]).filter(t=>{var a;return null==(a=t.details)?void 0:a.some(t=>t.motorcycle.id===e)});if(l.length>0)return{canDelete:!1,message:"Esta motocicleta no puede eliminarse porque est\xe1 siendo utilizada en ".concat(l.length," venta(s)."),dependencies:l.map(e=>"Venta ".concat(e.saleNumber))};return{canDelete:!0,message:"La motocicleta puede eliminarse de forma segura.",dependencies:[]}}catch(e){return{canDelete:!1,message:"Error al verificar dependencias.",dependencies:[]}}}},r={getAll:()=>s.get("/customers"),getById:e=>s.get("/customers/".concat(e)),create:e=>s.post("/customers",e),update:(e,t)=>s.put("/customers/".concat(e),t),delete:e=>s.delete("/customers/".concat(e)),checkDependencies:async e=>{try{var t;let a=await s.get("/sales"),l=(Array.isArray(a.data)?a.data:(null==(t=a.data)?void 0:t.data)||[]).filter(t=>t.customer.id===e);if(l.length>0)return{canDelete:!1,message:"Este cliente no puede eliminarse porque tiene ".concat(l.length," venta(s) registrada(s)."),dependencies:l.map(e=>"Venta ".concat(e.saleNumber))};return{canDelete:!0,message:"El cliente puede eliminarse de forma segura.",dependencies:[]}}catch(e){return{canDelete:!1,message:"Error al verificar dependencias.",dependencies:[]}}}},c={getAll:()=>s.get("/employees"),getById:e=>s.get("/employees/".concat(e)),create:e=>s.post("/employees",e),update:(e,t)=>s.put("/employees/".concat(e),t),delete:e=>s.delete("/employees/".concat(e)),checkDependencies:async e=>{try{var t;let a=await s.get("/sales"),l=(Array.isArray(a.data)?a.data:(null==(t=a.data)?void 0:t.data)||[]).filter(t=>t.employee.id===e);if(l.length>0)return{canDelete:!1,message:"Este empleado no puede eliminarse porque tiene ".concat(l.length," venta(s) registrada(s)."),dependencies:l.map(e=>"Venta ".concat(e.saleNumber))};return{canDelete:!0,message:"El empleado puede eliminarse de forma segura.",dependencies:[]}}catch(e){return{canDelete:!1,message:"Error al verificar dependencias.",dependencies:[]}}}},n={getAll:()=>s.get("/sales"),getById:e=>s.get("/sales/".concat(e)),getByIdWithDetails:e=>s.get("/sales/".concat(e,"/details")),create:e=>s.post("/sales",e),update:(e,t)=>s.put("/sales/".concat(e),t),delete:e=>s.delete("/sales/".concat(e))}},1669:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]])},4403:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(5155),l=a(2115),r=a(1669),c=a(7580),n=a(5670),o=a(7809);let i=(0,a(9946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var d=a(722);function m(){let[e,t]=(0,l.useState)({totalMotorcycles:0,totalCustomers:0,totalEmployees:0,totalSales:0,totalRevenue:0}),[a,m]=(0,l.useState)(!0);(0,l.useEffect)(()=>{(async()=>{try{var e,a,s,l;let[r,c,n,o]=await Promise.all([d.Di.getAll(),d.mJ.getAll(),d.yD.getAll(),d.J2.getAll()]),i=Array.isArray(r.data)?r.data:(null==(e=r.data)?void 0:e.data)||[],m=Array.isArray(c.data)?c.data:(null==(a=c.data)?void 0:a.data)||[],u=Array.isArray(n.data)?n.data:(null==(s=n.data)?void 0:s.data)||[],g=Array.isArray(o.data)?o.data:(null==(l=o.data)?void 0:l.data)||[],y=g.reduce((e,t)=>e+(t.total||0),0);t({totalMotorcycles:i.length,totalCustomers:m.length,totalEmployees:u.length,totalSales:g.length,totalRevenue:y})}catch(e){console.error("Error fetching stats:",e),t({totalMotorcycles:0,totalCustomers:0,totalEmployees:0,totalSales:0,totalRevenue:0})}finally{m(!1)}})()},[]);let u=[{title:"Total Motocicletas",value:e.totalMotorcycles,icon:r.A,color:"bg-blue-500"},{title:"Total Clientes",value:e.totalCustomers,icon:c.A,color:"bg-green-500"},{title:"Total Empleados",value:e.totalEmployees,icon:n.A,color:"bg-indigo-500"},{title:"Total Ventas",value:e.totalSales,icon:o.A,color:"bg-purple-500"},{title:"Ingresos Totales",value:"€".concat(e.totalRevenue.toLocaleString()),icon:i,color:"bg-orange-500"}];return a?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Resumen general del sistema de motocicletas"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map((e,t)=>(0,s.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.title}),(0,s.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:e.value})]}),(0,s.jsx)("div",{className:"p-3 rounded-lg ".concat(e.color),children:(0,s.jsx)(e.icon,{className:"h-6 w-6 text-white"})})]})},t))}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Bienvenido al Sistema de Gesti\xf3n"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Utiliza el men\xfa lateral para navegar entre las diferentes secciones:"}),(0,s.jsxs)("ul",{className:"mt-4 space-y-2 text-gray-600",children:[(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Motocicletas:"})," Gestiona el inventario de motocicletas"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Clientes:"})," Administra la informaci\xf3n de los clientes"]}),(0,s.jsxs)("li",{children:["• ",(0,s.jsx)("strong",{children:"Ventas:"})," Registra y consulta las ventas realizadas"]})]})]})]})}},5670:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},7580:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},7809:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},8932:(e,t,a)=>{Promise.resolve().then(a.bind(a,4403))}},e=>{e.O(0,[445,441,964,358],()=>e(e.s=8932)),_N_E=e.O()}]);