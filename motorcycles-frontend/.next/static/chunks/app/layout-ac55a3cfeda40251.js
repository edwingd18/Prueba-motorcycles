(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},722:(e,t,r)=>{"use strict";r.d(t,{Di:()=>a,J2:()=>l,mJ:()=>s,yD:()=>o});let n=r(3464).A.create({baseURL:"http://localhost:8080/api",headers:{"Content-Type":"application/json"},timeout:1e4});n.interceptors.response.use(e=>e,e=>(console.error("API Error:",e.message),"ECONNREFUSED"===e.code&&console.error("Backend server is not running on port 8080"),Promise.reject(e)));let a={getAll:()=>n.get("/motorcycles"),getById:e=>n.get("/motorcycles/".concat(e)),create:e=>n.post("/motorcycles",e),update:(e,t)=>n.put("/motorcycles/".concat(e),t),delete:e=>n.delete("/motorcycles/".concat(e)),checkDependencies:async e=>{try{var t;let r=await n.get("/sales"),a=(Array.isArray(r.data)?r.data:(null==(t=r.data)?void 0:t.data)||[]).filter(t=>{var r;return null==(r=t.details)?void 0:r.some(t=>t.motorcycle.id===e)});if(a.length>0)return{canDelete:!1,message:"Esta motocicleta no puede eliminarse porque est\xe1 siendo utilizada en ".concat(a.length," venta(s)."),dependencies:a.map(e=>"Venta ".concat(e.saleNumber))};return{canDelete:!0,message:"La motocicleta puede eliminarse de forma segura.",dependencies:[]}}catch(e){return{canDelete:!1,message:"Error al verificar dependencias.",dependencies:[]}}}},s={getAll:()=>n.get("/customers"),getById:e=>n.get("/customers/".concat(e)),create:e=>n.post("/customers",e),update:(e,t)=>n.put("/customers/".concat(e),t),delete:e=>n.delete("/customers/".concat(e)),checkDependencies:async e=>{try{var t;let r=await n.get("/sales"),a=(Array.isArray(r.data)?r.data:(null==(t=r.data)?void 0:t.data)||[]).filter(t=>t.customer.id===e);if(a.length>0)return{canDelete:!1,message:"Este cliente no puede eliminarse porque tiene ".concat(a.length," venta(s) registrada(s)."),dependencies:a.map(e=>"Venta ".concat(e.saleNumber))};return{canDelete:!0,message:"El cliente puede eliminarse de forma segura.",dependencies:[]}}catch(e){return{canDelete:!1,message:"Error al verificar dependencias.",dependencies:[]}}}},o={getAll:()=>n.get("/employees"),getById:e=>n.get("/employees/".concat(e)),create:e=>n.post("/employees",e),update:(e,t)=>n.put("/employees/".concat(e),t),delete:e=>n.delete("/employees/".concat(e)),checkDependencies:async e=>{try{var t;let r=await n.get("/sales"),a=(Array.isArray(r.data)?r.data:(null==(t=r.data)?void 0:t.data)||[]).filter(t=>t.employee.id===e);if(a.length>0)return{canDelete:!1,message:"Este empleado no puede eliminarse porque tiene ".concat(a.length," venta(s) registrada(s)."),dependencies:a.map(e=>"Venta ".concat(e.saleNumber))};return{canDelete:!0,message:"El empleado puede eliminarse de forma segura.",dependencies:[]}}catch(e){return{canDelete:!1,message:"Error al verificar dependencias.",dependencies:[]}}}},l={getAll:()=>n.get("/sales"),getById:e=>n.get("/sales/".concat(e)),getByIdWithDetails:e=>n.get("/sales/".concat(e,"/details")),create:e=>n.post("/sales",e),update:(e,t)=>n.put("/sales/".concat(e),t),delete:e=>n.delete("/sales/".concat(e))}},1669:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(9946).A)("bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]])},2664:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return s}});let n=r(9991),a=r(7102);function s(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,a.hasBasePath)(r.pathname)}catch(e){return!1}}},2734:(e,t,r)=>{"use strict";r.d(t,{default:()=>x});var n=r(5155),a=r(2115),s=r(6874),o=r.n(s),l=r(8999),c=r(9946);let i=(0,c.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var u=r(1669),d=r(7580),f=r(5670),p=r(7809),m=r(4416);let h=(0,c.A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]);var y=r(4873);let g=[{name:"Dashboard",href:"/",icon:i},{name:"Motocicletas",href:"/motorcycles",icon:u.A},{name:"Clientes",href:"/customers",icon:d.A},{name:"Empleados",href:"/employees",icon:f.A},{name:"Ventas",href:"/sales",icon:p.A}];function x(){let[e,t]=(0,a.useState)(!1),r=(0,l.usePathname)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:(0,n.jsx)("button",{onClick:()=>t(!e),className:"p-2 rounded-lg bg-white shadow-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:e?(0,n.jsx)(m.A,{size:20}):(0,n.jsx)(h,{size:20})})}),e&&(0,n.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>t(!1)}),(0,n.jsx)("div",{className:(0,y.cn)("fixed left-0 top-0 h-full w-64 bg-white border-r border-gray-200 shadow-sm z-40 transform transition-transform duration-300 ease-in-out",e?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:(0,n.jsxs)("div",{className:"flex flex-col h-full",children:[(0,n.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,n.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Motorcycle Store"})}),(0,n.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:g.map(e=>{let a=r===e.href;return(0,n.jsxs)(o(),{href:e.href,onClick:()=>t(!1),className:(0,y.cn)("flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors",a?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[(0,n.jsx)(e.icon,{className:(0,y.cn)("mr-3 h-5 w-5",a?"text-blue-700":"text-gray-400")}),e.name]},e.name)})}),(0,n.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,n.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"\xa9 2025 Motorcycle Store"})})]})})]})}},2757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{formatUrl:function(){return s},formatWithValidation:function(){return l},urlObjectKeys:function(){return o}});let n=r(6966)._(r(8859)),a=/https?|ftp|gopher|file/;function s(e){let{auth:t,hostname:r}=e,s=e.protocol||"",o=e.pathname||"",l=e.hash||"",c=e.query||"",i=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?i=t+e.host:r&&(i=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(i+=":"+e.port)),c&&"object"==typeof c&&(c=String(n.urlQueryToSearchParams(c)));let u=e.search||c&&"?"+c||"";return s&&!s.endsWith(":")&&(s+=":"),e.slashes||(!s||a.test(s))&&!1!==i?(i="//"+(i||""),o&&"/"!==o[0]&&(o="/"+o)):i||(i=""),l&&"#"!==l[0]&&(l="#"+l),u&&"?"!==u[0]&&(u="?"+u),""+s+i+(o=o.replace(/[?#]/g,encodeURIComponent))+(u=u.replace("#","%23"))+l}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function l(e){return s(e)}},3180:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"errorOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},4029:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,5356,23)),Promise.resolve().then(r.t.bind(r,347,23)),Promise.resolve().then(r.bind(r,6401)),Promise.resolve().then(r.bind(r,2734))},4416:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4873:(e,t,r)=>{"use strict";function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,n,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(n=e(t[r]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}(e))&&(n&&(n+=" "),n+=t);return n}(t)}function a(e){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(e)}function s(e){return new Intl.DateTimeFormat("es-ES",{year:"numeric",month:"long",day:"numeric"}).format(new Date(e))}r.d(t,{cn:()=>n,v:()=>a,Y:()=>s})},5356:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c"}},5670:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(9946).A)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},6401:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(5155),a=r(2115),s=r(9946);let o=(0,s.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),l=(0,s.A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),c=(0,s.A)("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);var i=r(722);function u(){let[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(!1),u=async()=>{s(!0);try{await i.Di.getAll(),t(!0)}catch(e){t(!1)}finally{s(!1)}};return((0,a.useEffect)(()=>{u();let e=setInterval(u,3e4);return()=>clearInterval(e)},[]),null===e)?null:e?(0,n.jsx)("div",{className:"fixed bottom-4 right-4 bg-green-50 border border-green-200 rounded-lg p-3 shadow-sm",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2 text-green-700",children:[(0,n.jsx)(o,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Conectado al servidor"})]})}):(0,n.jsx)("div",{className:"fixed bottom-4 right-4 bg-red-50 border border-red-200 rounded-lg p-4 shadow-lg max-w-sm",children:(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)(l,{className:"h-5 w-5 text-red-500 mt-0.5"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Sin conexi\xf3n al servidor"}),(0,n.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"No se puede conectar al backend en el puerto 8080. Aseg\xfarate de que el servidor est\xe9 ejecut\xe1ndose."}),(0,n.jsx)("button",{onClick:u,disabled:r,className:"mt-2 text-sm text-red-700 hover:text-red-800 font-medium flex items-center space-x-1",children:r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-red-600"}),(0,n.jsx)("span",{children:"Verificando..."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c,{className:"h-3 w-3"}),(0,n.jsx)("span",{children:"Reintentar"})]})})]})]})})}},6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return a}});let n=r(2115);function a(e,t){let r=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=s(e,n)),t&&(a.current=s(t,n))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return y},useLinkStatus:function(){return x}});let n=r(6966),a=r(5155),s=n._(r(2115)),o=r(2757),l=r(5227),c=r(9818),i=r(6654),u=r(9991),d=r(5929);r(3230);let f=r(4930),p=r(2664),m=r(6634);function h(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function y(e){let t,r,n,[o,y]=(0,s.useOptimistic)(f.IDLE_LINK_STATUS),x=(0,s.useRef)(null),{href:b,as:v,children:j,prefetch:k=null,passHref:A,replace:N,shallow:E,scroll:P,onClick:_,onMouseEnter:w,onTouchStart:M,legacyBehavior:O=!1,onNavigate:S,ref:C,unstable_dynamicOnHover:D,...I}=e;t=j,O&&("string"==typeof t||"number"==typeof t)&&(t=(0,a.jsx)("a",{children:t}));let T=s.default.useContext(l.AppRouterContext),L=!1!==k,R=null===k||"auto"===k?c.PrefetchKind.AUTO:c.PrefetchKind.FULL,{href:U,as:F}=s.default.useMemo(()=>{let e=h(b);return{href:e,as:v?h(v):e}},[b,v]);O&&(r=s.default.Children.only(t));let z=O?r&&"object"==typeof r&&r.ref:C,B=s.default.useCallback(e=>(null!==T&&(x.current=(0,f.mountLinkInstance)(e,U,T,R,L,y)),()=>{x.current&&((0,f.unmountLinkForCurrentNavigation)(x.current),x.current=null),(0,f.unmountPrefetchableInstance)(e)}),[L,U,T,R,y]),q={ref:(0,i.useMergedRef)(B,z),onClick(e){O||"function"!=typeof _||_(e),O&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),T&&(e.defaultPrevented||function(e,t,r,n,a,o,l){let{nodeName:c}=e.currentTarget;if(!("A"===c.toUpperCase()&&function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||e.currentTarget.hasAttribute("download"))){if(!(0,p.isLocalURL)(t)){a&&(e.preventDefault(),location.replace(t));return}if(e.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}s.default.startTransition(()=>{(0,m.dispatchNavigateAction)(r||t,a?"replace":"push",null==o||o,n.current)})}}(e,U,F,x,N,P,S))},onMouseEnter(e){O||"function"!=typeof w||w(e),O&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),T&&L&&(0,f.onNavigationIntent)(e.currentTarget,!0===D)},onTouchStart:function(e){O||"function"!=typeof M||M(e),O&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),T&&L&&(0,f.onNavigationIntent)(e.currentTarget,!0===D)}};return(0,u.isAbsoluteUrl)(F)?q.href=F:O&&!A&&("a"!==r.type||"href"in r.props)||(q.href=(0,d.addBasePath)(F)),n=O?s.default.cloneElement(r,q):(0,a.jsx)("a",{...I,...q,children:t}),(0,a.jsx)(g.Provider,{value:o,children:n})}r(3180);let g=(0,s.createContext)(f.IDLE_LINK_STATUS),x=()=>(0,s.useContext)(g);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7580:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(9946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},7809:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(9946).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},8859:(e,t)=>{"use strict";function r(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function n(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function a(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,n(e));else t.set(r,n(a));return t}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(let t of r){for(let r of t.keys())e.delete(r);for(let[r,n]of t.entries())e.append(r,n)}return e}Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{assign:function(){return s},searchParamsToUrlQuery:function(){return r},urlQueryToSearchParams:function(){return a}})},9991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{DecodeError:function(){return m},MiddlewareNotFoundError:function(){return x},MissingStaticPage:function(){return g},NormalizeError:function(){return h},PageNotFoundError:function(){return y},SP:function(){return f},ST:function(){return p},WEB_VITALS:function(){return r},execOnce:function(){return n},getDisplayName:function(){return c},getLocationOrigin:function(){return o},getURL:function(){return l},isAbsoluteUrl:function(){return s},isResSent:function(){return i},loadGetInitialProps:function(){return d},normalizeRepeatedSlashes:function(){return u},stringifyError:function(){return b}});let r=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return function(){for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return r||(r=!0,t=e(...a)),t}}let a=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,s=e=>a.test(e);function o(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function l(){let{href:e}=window.location,t=o();return e.substring(t.length)}function c(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function i(e){return e.finished||e.headersSent}function u(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function d(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await d(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&i(r))return n;if(!n)throw Object.defineProperty(Error('"'+c(e)+'.getInitialProps()" should resolve to an object. But found "'+n+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let f="undefined"!=typeof performance,p=f&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class m extends Error{}class h extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class g extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class x extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function b(e){return JSON.stringify({message:e.message,stack:e.stack})}}},e=>{e.O(0,[444,445,441,964,358],()=>e(e.s=4029)),_N_E=e.O()}]);